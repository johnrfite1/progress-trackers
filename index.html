<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-Week Reset Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-card: rgba(30, 41, 59, 0.7);
            --bg-card-hover: rgba(51, 65, 85, 0.8);
            --border: rgba(148, 163, 184, 0.15);
            --border-glow: rgba(148, 163, 184, 0.3);
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            
            --accent: #818cf8;
            --accent-glow: rgba(129, 140, 248, 0.5);
            --success: #34d399;
            --success-glow: rgba(52, 211, 153, 0.5);
            
            --gradient-primary: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
            --gradient-success: linear-gradient(135deg, #34d399 0%, #22d3ee 100%);
            
            /* Benefit specific colors */
            --color-sleep: #a5b4fc;
            --color-liver: #fca5a5;
            --color-metabolic: #fcd34d;
            --color-cognitive: #d8b4fe;
            --color-cardio: #f9a8d4;
            --color-gut: #6ee7b7;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(99, 102, 241, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(168, 85, 247, 0.15) 0%, transparent 40%);
            background-attachment: fixed;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 48px;
            position: relative;
        }

        .header-icon {
            font-size: 3.5rem;
            margin-bottom: 16px;
            display: inline-block;
            filter: drop-shadow(0 0 20px rgba(99, 102, 241, 0.3));
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .header h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #fff 30%, #a855f7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -1px;
        }

        .header .dates {
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 500;
            opacity: 0.8;
            background: rgba(255, 255, 255, 0.05);
            padding: 4px 16px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 8px;
            backdrop-filter: blur(5px);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 24px;
            text-align: center;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(12px);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent);
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
        }

        .stat-card::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            opacity: 0.5;
        }

        .stat-value {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.1;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 600;
        }

        /* Progress Section */
        .progress-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 32px;
            margin-bottom: 32px;
            position: relative;
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 20px;
        }

        .progress-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .progress-percent {
            font-size: 2.5rem;
            font-weight: 800;
            color: #fff;
            text-shadow: 0 0 20px var(--accent-glow);
        }

        .progress-bar-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            height: 24px;
            position: relative;
            margin-bottom: 16px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .progress-bar {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 16px;
            position: relative;
            width: 0%;
            transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transform: translateX(-100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            100% { transform: translateX(100%); }
        }

        .progress-markers {
            display: flex;
            justify-content: space-between;
            padding: 0 2px;
        }

        .progress-marker {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 600;
            position: relative;
            cursor: default;
            transition: color 0.3s;
        }
        
        .progress-marker.active {
            color: var(--accent);
            text-shadow: 0 0 10px var(--accent-glow);
        }

        /* Current Phase */
        .current-phase {
            background: linear-gradient(145deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.05));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 24px;
            padding: 32px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(12px);
        }
        
        .current-phase::before {
            content: '';
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 6px;
            background: var(--gradient-primary);
        }

        .phase-label {
            font-size: 0.8rem;
            color: #818cf8;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .phase-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 12px;
            color: #fff;
        }

        .phase-description {
            color: var(--text-secondary);
            font-size: 1.1rem;
            max-width: 90%;
        }

        /* Quote Section */
        .quote-section {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 28px;
            margin-bottom: 32px;
            text-align: center;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .quote-icon {
            font-size: 1.5rem;
            margin-bottom: 12px;
            color: var(--accent);
            opacity: 0.8;
        }

        .quote-text {
            font-size: 1.1rem;
            font-style: italic;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .quote-author {
            font-size: 0.85rem;
            color: var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .quote-day-badge {
            display: inline-block;
            background: rgba(129, 140, 248, 0.1);
            color: var(--accent);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 700;
            margin-bottom: 16px;
            border: 1px solid rgba(129, 140, 248, 0.2);
        }

        /* Timeline */
        .timeline-section {
            margin-bottom: 40px;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            gap: 12px;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #fff;
        }
        
        .section-line {
            flex-grow: 1;
            height: 1px;
            background: var(--border);
        }

        .timeline {
            position: relative;
            padding-left: 20px;
        }
        
        /* The grey background line */
        .timeline-line-bg {
            position: absolute;
            left: 29px;
            top: 20px;
            bottom: 40px;
            width: 2px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 2px;
            z-index: 0;
        }
        
        /* The colorful progress line */
        .timeline-line-progress {
            position: absolute;
            left: 29px;
            top: 20px;
            width: 2px;
            height: 0; /* JS will set this */
            background: var(--gradient-primary);
            border-radius: 2px;
            z-index: 1;
            transition: height 1.5s ease-out;
            box-shadow: 0 0 15px var(--accent-glow);
        }

        .milestone {
            position: relative;
            padding-left: 60px;
            padding-bottom: 40px;
            z-index: 2;
        }
        
        .milestone:last-child {
            padding-bottom: 0;
        }

        .milestone-dot {
            position: absolute;
            left: 20px;
            top: 0;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--bg-primary);
            border: 2px solid var(--text-muted);
            transition: all 0.4s ease;
            box-shadow: 0 0 0 4px var(--bg-primary); /* gap effect */
        }

        .milestone.completed .milestone-dot {
            background: var(--accent);
            border-color: var(--accent);
            box-shadow: 0 0 0 4px var(--bg-primary), 0 0 15px var(--accent-glow);
        }

        .milestone.current .milestone-dot {
            background: var(--bg-primary);
            border-color: var(--accent);
            box-shadow: 0 0 0 4px var(--bg-primary), 0 0 20px var(--accent-glow);
            transform: scale(1.3);
            animation: pulse-dot 2s infinite;
        }

        @keyframes pulse-dot {
            0% { box-shadow: 0 0 0 4px var(--bg-primary), 0 0 0 0 rgba(99, 102, 241, 0.4); }
            70% { box-shadow: 0 0 0 4px var(--bg-primary), 0 0 0 10px rgba(99, 102, 241, 0); }
            100% { box-shadow: 0 0 0 4px var(--bg-primary), 0 0 0 0 rgba(99, 102, 241, 0); }
        }

        .milestone-content {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .milestone.current .milestone-content {
            border-color: var(--accent);
            background: linear-gradient(145deg, rgba(99, 102, 241, 0.08), rgba(20, 20, 30, 0.6));
            transform: translateX(5px);
        }
        
        .milestone.completed .milestone-content {
            opacity: 0.6;
        }
        
        .milestone.completed:hover .milestone-content {
            opacity: 1;
        }

        .milestone-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            flex-wrap: wrap;
            gap: 8px;
        }

        .milestone-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: #fff;
        }

        .milestone-week {
            font-size: 0.8rem;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
            margin-right: 8px;
        }

        .milestone-dates {
            font-size: 0.8rem;
            color: var(--text-secondary);
            background: rgba(255,255,255,0.05);
            padding: 4px 10px;
            border-radius: 6px;
        }

        .milestone-details li {
            list-style: none;
            margin-bottom: 6px;
            color: var(--text-secondary);
            font-size: 0.95rem;
            position: relative;
            padding-left: 20px;
        }

        .milestone-details li::before {
            content: 'â€¢';
            color: var(--accent);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        /* Benefits Grid */
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .benefit-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 24px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            background: var(--bg-card-hover);
            border-color: var(--card-color);
        }

        /* Colored top borders for benefits */
        .benefit-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: var(--card-color);
            opacity: 0.7;
        }

        .benefit-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .benefit-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--card-color);
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
        }

        .benefit-title {
            font-weight: 700;
            font-size: 1.1rem;
            color: #fff;
        }

        .benefit-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .benefit-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 0.95rem;
            color: var(--text-secondary);
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .benefit-item.completed {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        .benefit-item.pending {
            opacity: 0.5;
        }

        .benefit-icon-status {
            flex-shrink: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .benefit-item.completed .benefit-icon-status {
            color: var(--card-color);
        }

        .benefit-item.pending .benefit-icon-status {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        /* Footer */
        .footer {
            margin-top: 60px;
            text-align: center;
            color: var(--text-muted);
            font-size: 0.8rem;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        @media (max-width: 600px) {
            .header h1 { font-size: 2.2rem; }
            .stats-grid { grid-template-columns: 1fr; }
            .milestone { padding-left: 40px; }
            .timeline-line-bg, .timeline-line-progress { left: 9px; }
            .milestone-dot { left: 0; }
            .benefits-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <span class="header-icon">ðŸ§¬</span>
            <h1>8-Week Reset</h1>
            <div class="dates">January 12 â€“ March 9, 2026</div>
        </header>

        <!-- Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="current-day">0</div>
                <div class="stat-label">Day Current</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="days-remaining">56</div>
                <div class="stat-label">Days Left</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="weeks-complete">0</div>
                <div class="stat-label">Weeks Done</div>
            </div>
        </div>

        <!-- Overall Progress -->
        <section class="progress-section">
            <div class="progress-header">
                <span class="progress-title">System Restoration</span>
                <span class="progress-percent" id="progress-percent">0%</span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="progress-markers" id="progress-markers">
                <!-- Generated by JS -->
            </div>
        </section>

        <!-- Current Phase -->
        <div class="current-phase" id="current-phase">
            <div class="phase-label">Current Phase</div>
            <div class="phase-name" id="phase-name">Loading...</div>
            <div class="phase-description" id="phase-description">Analyzing timeline data...</div>
        </div>

        <!-- Daily Insight -->
        <div class="quote-section" id="quote-section">
            <div class="quote-day-badge">Daily Insight</div>
            <div class="quote-text" id="quote-text">"Loading inspiration..."</div>
            <div class="quote-author" id="quote-author"></div>
        </div>

        <!-- Timeline -->
        <section class="timeline-section">
            <div class="section-header">
                <h2 class="section-title">Milestone Timeline</h2>
                <div class="section-line"></div>
            </div>
            <div class="timeline" id="timeline">
                <div class="timeline-line-bg"></div>
                <div class="timeline-line-progress" id="timeline-progress-line"></div>
                <!-- Milestones injected here -->
            </div>
        </section>

        <!-- Benefits -->
        <section class="benefits-section">
            <div class="section-header">
                <h2 class="section-title">Physiological Benefits</h2>
                <div class="section-line"></div>
            </div>
            <div class="benefits-grid" id="benefits-grid">
                <!-- Generated by JS -->
            </div>
        </section>

        <footer class="footer">
            <p>Last synced: <span id="last-updated"></span></p>
        </footer>
    </div>

    <script>
        const START_DATE = new Date('2026-01-12T00:00:00');
        const END_DATE = new Date('2026-03-09T23:59:59');
        const TOTAL_DAYS = 56;

        const MILESTONES = [
            {
                week: '1',
                name: 'Adjustment Phase',
                startDay: 1,
                endDay: 7,
                details: ['Body clearing residual toxins', 'Sleep patterns fluctuating', 'Building initial momentum']
            },
            {
                week: '2-3',
                name: 'Sleep Restoration',
                startDay: 8,
                endDay: 21,
                details: ['REM sleep stabilizing', 'Liver enzymes normalizing', 'Energy dips smoothing out']
            },
            {
                week: '4',
                name: 'Systemic Adaptation',
                startDay: 22,
                endDay: 28,
                details: ['Gut microbiome shifting', 'Blood pressure optimizing', 'Skin clarity improving']
            },
            {
                week: '5-6',
                name: 'Cognitive Clarity',
                startDay: 29,
                endDay: 42,
                details: ['Mental fog lifted', 'Focus and memory sharpened', 'Mood stability achieved']
            },
            {
                week: '7-8',
                name: 'True Baseline',
                startDay: 43,
                endDay: 56,
                details: ['Physiological reset complete', 'New baseline established', 'Ready for next phase']
            }
        ];

        const BENEFITS = [
            {
                id: 'sleep',
                title: 'Sleep Architecture',
                icon: 'ðŸŒ™',
                colorVar: '--color-sleep',
                items: [
                    { text: 'REM rebound & restoration begins', minDay: 7 },
                    { text: 'Deep sleep cycle normalization', minDay: 14 },
                    { text: 'Waking refreshed naturally', minDay: 21 }
                ]
            },
            {
                id: 'liver',
                title: 'Hepatic Health',
                icon: 'ðŸ«€',
                colorVar: '--color-liver',
                items: [
                    { text: 'Initial detox flush complete', minDay: 3 },
                    { text: 'Enzyme levels normalizing', minDay: 14 },
                    { text: 'Liver fat reduction significant', minDay: 30 }
                ]
            },
            {
                id: 'metabolic',
                title: 'Metabolism',
                icon: 'âš¡',
                colorVar: '--color-metabolic',
                items: [
                    { text: 'Blood glucose stabilization', minDay: 5 },
                    { text: 'Insulin sensitivity improving', minDay: 14 },
                    { text: 'Efficient fat utilization mode', minDay: 28 }
                ]
            },
            {
                id: 'cognitive',
                title: 'Cognitive Function',
                icon: 'ðŸ§ ',
                colorVar: '--color-cognitive',
                items: [
                    { text: 'Brain fog clearing', minDay: 10 },
                    { text: 'Mood stabilization', minDay: 21 },
                    { text: 'Focus & memory sharpened', minDay: 35 }
                ]
            },
            {
                id: 'gut',
                title: 'Gut Microbiome',
                icon: 'ðŸ¦ ',
                colorVar: '--color-gut',
                items: [
                    { text: 'Digestion regularity improved', minDay: 7 },
                    { text: 'Nutrient absorption optimized', minDay: 21 },
                    { text: 'Flora diversity flourishing', minDay: 40 }
                ]
            }
        ];

        function getProgress() {
            const now = new Date();
            // For testing/demo purposes, uncomment below to simulate a specific date
            // const now = new Date('2026-02-01T12:00:00'); 
            
            const totalMs = END_DATE - START_DATE;
            const elapsedMs = now - START_DATE;
            
            let percent = (elapsedMs / totalMs) * 100;
            percent = Math.max(0, Math.min(100, percent));

            const daysElapsed = Math.floor(elapsedMs / (1000 * 60 * 60 * 24)) + 1;
            const currentDay = Math.max(0, Math.min(TOTAL_DAYS, daysElapsed));
            
            return {
                percent,
                currentDay,
                daysRemaining: Math.max(0, TOTAL_DAYS - currentDay),
                weeksComplete: Math.floor((currentDay - 1) / 7),
                isStarted: now >= START_DATE,
                isComplete: now > END_DATE
            };
        }

        function formatDateRange(startDay, endDay) {
            const d1 = new Date(START_DATE);
            d1.setDate(d1.getDate() + startDay - 1);
            const d2 = new Date(START_DATE);
            d2.setDate(d2.getDate() + endDay - 1);
            
            const options = { month: 'short', day: 'numeric' };
            return `${d1.toLocaleDateString('en-US', options)} â€“ ${d2.toLocaleDateString('en-US', options)}`;
        }

        const QUOTES = [
            // Week 1: Adjustment (Days 1-7)
            { days: [1, 7], text: "The beginning is the most important part of the work.", author: "Plato" },
            { days: [1, 7], text: "Do not wait to strike till the iron is hot; but make it hot by striking.", author: "William Butler Yeats" },
            { days: [1, 7], text: "Strength does not come from physical capacity. It comes from an indomitable will.", author: "Mahatma Gandhi" },
            
            // Week 2-3: Restoration (Days 8-21)
            { days: [8, 21], text: "Nature does not hurry, yet everything is accomplished.", author: "Lao Tzu" },
            { days: [8, 21], text: "Rest is not idleness, and to lie sometimes on the grass under trees on a summer's day, listening to the murmur of the water, or watching the clouds float across the sky, is by no means a waste of time.", author: "John Lubbock" },
            { days: [8, 21], text: "Healing is a matter of time, but it is sometimes also a matter of opportunity.", author: "Hippocrates" },
            
            // Week 4: Adaptation (Days 22-28)
            { days: [22, 28], text: "We are what we repeatedly do. Excellence, then, is not an act, but a habit.", author: "Aristotle" },
            { days: [22, 28], text: "It is not the strongest of the species that survive, nor the most intelligent, but the one most responsive to change.", author: "Charles Darwin" },

            // Week 5-6: Clarity (Days 29-42)
            { days: [29, 42], text: "The mind is everything. What you think you become.", author: "Buddha" },
            { days: [29, 42], text: "Clarity affords focus.", author: "Thomas Leonard" },
            { days: [29, 42], text: "He who has a why to live can bear almost any how.", author: "Friedrich Nietzsche" },

            // Week 7-8: Baseline (Days 43-56)
            { days: [43, 56], text: "Mastery is not a function of genius or talent. It is a function of time and intense focus applied to a particular field of knowledge.", author: "Robert Greene" },
            { days: [43, 56], text: "Freedom is the only worthy goal in life. It is won by disregarding things that lie beyond our control.", author: "Epictetus" },
            
            // Fallbacks / General
            { days: [1, 100], text: "Discipline is choosing between what you want now and what you want most.", author: "Abraham Lincoln" },
            { days: [1, 100], text: "A journey of a thousand miles begins with a single step.", author: "Lao Tzu" }
        ];

        function getQuoteForDay(day) {
            // Filter quotes valid for this day
            const validQuotes = QUOTES.filter(q => day >= q.days[0] && day <= q.days[1]);
            
            // Use the day number as a seed to pseudo-randomly select a quote
            // This ensures the quote stays the same for the entire day for a specific user
            // but changes the next day.
            if (validQuotes.length === 0) return { text: "Keep going.", author: "Unknown" };
            
            const index = day % validQuotes.length;
            return validQuotes[index];
        }

        function renderQuote(currentDay) {
            const quoteData = getQuoteForDay(currentDay);
            document.getElementById('quote-text').textContent = `"${quoteData.text}"`;
            document.getElementById('quote-author').textContent = `â€” ${quoteData.author}`;
        }

        function renderBenefits(currentDay) {
            const container = document.getElementById('benefits-grid');
            container.innerHTML = '';

            BENEFITS.forEach(category => {
                const card = document.createElement('div');
                card.className = 'benefit-card';
                card.style.setProperty('--card-color', `var(${category.colorVar})`);

                const header = document.createElement('div');
                header.className = 'benefit-header';
                header.innerHTML = `
                    <div class="benefit-icon">${category.icon}</div>
                    <div class="benefit-title">${category.title}</div>
                `;
                card.appendChild(header);

                const list = document.createElement('div');
                list.className = 'benefit-list';

                category.items.forEach(item => {
                    const isCompleted = currentDay >= item.minDay;
                    const itemEl = document.createElement('div');
                    itemEl.className = `benefit-item ${isCompleted ? 'completed' : 'pending'}`;
                    
                    itemEl.innerHTML = `
                        <div class="benefit-icon-status">
                            ${isCompleted ? 'âœ“' : 'â—‹'}
                        </div>
                        <div>
                            ${item.text} 
                            ${!isCompleted ? `<span style="font-size: 0.7em; opacity: 0.6; display: block;">(Day ${item.minDay})</span>` : ''}
                        </div>
                    `;
                    list.appendChild(itemEl);
                });

                card.appendChild(list);
                container.appendChild(card);
            });
        }

        function render() {
            const progress = getProgress();
            
            // Stats
            document.getElementById('current-day').textContent = progress.currentDay;
            document.getElementById('days-remaining').textContent = progress.daysRemaining;
            document.getElementById('weeks-complete').textContent = `${progress.weeksComplete}/8`;
            
            // Progress Bar
            document.getElementById('progress-percent').textContent = `${Math.floor(progress.percent)}%`;
            document.getElementById('progress-bar').style.width = `${progress.percent}%`;
            
            // Progress Markers (W1, W2...)
            const markersContainer = document.getElementById('progress-markers');
            markersContainer.innerHTML = '';
            for(let i=1; i<=8; i++) {
                const span = document.createElement('span');
                span.className = `progress-marker ${progress.weeksComplete >= i ? 'active' : ''}`;
                span.textContent = `W${i}`;
                markersContainer.appendChild(span);
            }

            // Current Phase & Timeline
            const timelineContainer = document.getElementById('timeline');
            // Clear existing milestones but keep lines
            const milestones = timelineContainer.querySelectorAll('.milestone');
            milestones.forEach(m => m.remove());

            let activePhaseFound = false;

            MILESTONES.forEach((m, index) => {
                const isPast = progress.currentDay > m.endDay;
                const isCurrent = progress.currentDay >= m.startDay && progress.currentDay <= m.endDay;
                
                // Create Element
                const div = document.createElement('div');
                div.className = `milestone ${isPast ? 'completed' : ''} ${isCurrent ? 'current' : ''}`;
                
                div.innerHTML = `
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-header">
                            <div>
                                <span class="milestone-week">Week ${m.week}</span>
                                <span class="milestone-title">${m.name}</span>
                            </div>
                            <span class="milestone-dates">${formatDateRange(m.startDay, m.endDay)}</span>
                        </div>
                        <ul class="milestone-details">
                            ${m.details.map(d => `<li>${d}</li>`).join('')}
                        </ul>
                    </div>
                `;
                timelineContainer.appendChild(div);

                // Update Header Phase Info
                if (isCurrent) {
                    activePhaseFound = true;
                    document.getElementById('phase-name').textContent = m.name;
                    document.getElementById('phase-description').textContent = m.details[0] + '...';
                }
            });

            if (!activePhaseFound) {
                if (progress.percent >= 100) {
                    document.getElementById('phase-name').textContent = "Mission Complete";
                    document.getElementById('phase-description').textContent = "You have successfully reset your baseline.";
                } else if (progress.percent <= 0) {
                     document.getElementById('phase-name').textContent = "Preparation";
                     document.getElementById('phase-description').textContent = "Get ready to start.";
                }
            }

            // Timeline Line Progress Calculation
            const timelineLine = document.getElementById('timeline-progress-line');
            timelineLine.style.height = `calc(${progress.percent}% - 20px)`; 

            // Benefits
            renderBenefits(progress.currentDay);

            // Quote
            renderQuote(progress.currentDay);

            // Footer
            document.getElementById('last-updated').textContent = new Date().toLocaleString();
        }

        render();
        setInterval(render, 60000); // Update every minute
    </script>
</body>
</html>